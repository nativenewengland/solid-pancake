<!DOCTYPE html>
<html lang="en" style="height: 100%;">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Indigenous History Map</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IM+Fell+DW+Pica:ital@0;1&display=swap">
    <link rel="stylesheet" href="css/leaflet.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="js/leaflet.js"></script>
     
</head>
<body>
    <!-- <h1>map</h1> -->

    <div id="map"></div>
    <aside id="wiki-info" class="wiki-info" aria-expanded="true">
        <div class="wiki-info__content">
            <div id="wiki-info-default" class="wiki-info__default">
                <h2 class="wiki-info__title">Project Overview</h2>
                <p class="wiki-info__intro">
                    This collaboratively maintained map documents Indigenous history throughout the region using
                    primary source material, community knowledge, and archival research. Use the layers and markers to
                    explore how the landscape has evolved and who has called it home.
                </p>
                <dl class="wiki-info__details">
                    <div>
                        <dt>Focus</dt>
                        <dd>Pre-colonial geographies, settlements, and cultural sites.</dd>
                    </div>
                    <div>
                        <dt>Sources</dt>
                        <dd>Seventeenth-century cartography, oral histories, and academic publications.</dd>
                    </div>
                    <div>
                        <dt>Navigation Tips</dt>
                        <dd>Zoom to reveal additional markers, click icons for detailed context, and consult the credits for full acknowledgements.</dd>
                    </div>
                </dl>
                <p class="wiki-info__footer">Contribute updates by contacting the maintainers or submitting pull requests.</p>
            </div>
            <div id="wiki-marker-info" class="wiki-info__marker hidden" aria-live="polite">
                <h2 id="wiki-marker-title" class="wiki-info__title"></h2>
                <p id="wiki-marker-alt-names" class="wiki-info__alt hidden"></p>
                <h3 id="wiki-marker-subheader" class="wiki-info__subheader hidden"></h3>
                <div id="wiki-marker-description" class="wiki-info__description"></div>
            </div>
        </div>
        <button
            id="wiki-info-toggle"
            class="wiki-info__toggle"
            type="button"
            aria-label="Collapse information panel"
            aria-expanded="true"
        ></button>
    </aside>
    <button id="save-changes">Save Changes</button>
    <div id="icon-size-control" role="group" aria-labelledby="icon-size-label">
        <div class="icon-size-control__header">
            <label for="icon-size-slider" id="icon-size-label">Icon Size</label>
            <span id="icon-size-value" aria-live="polite">100%</span>
        </div>
        <input
            type="range"
            id="icon-size-slider"
            min="1"
            max="200"
            step="1"
            value="100"
            aria-labelledby="icon-size-label"
        >
    </div>
    <button
        id="credits-toggle"
        class="floating-button"
        type="button"
        aria-haspopup="dialog"
        aria-controls="credits-panel"
        aria-expanded="false"
    >
        Credits
    </button>
    <div id="mouse-coords"></div>
    <div id="info-panel" class="hidden">
        <button id="close-info" class="close-button">&times;</button>
        <h2 id="info-title"></h2>
        <p id="info-alt-names" class="info-alt-names hidden"></p>
        <h3 id="info-subheader" class="info-subheader hidden"></h3>
        <div id="info-description"></div>
    </div>
    <div id="credits-panel" class="hidden" aria-hidden="true">
        <div
            class="credits-content"
            role="dialog"
            aria-modal="true"
            aria-labelledby="credits-title"
            tabindex="-1"
        >
            <button id="close-credits" class="close-button" aria-label="Close credits">&times;</button>
            <h2 id="credits-title">Credits</h2>
            <p>
                This Map was the end result of over 2,000 hours of research done to make knowledge about the pre-colonized landscape of the region more accessible.
            </p>
            <ul>
                <li><strong>Special Thanks to those who went above and beyond to assist with this project:</strong> Prof. Thomas Doughton, </li>
                <li><strong>Credit to those who assisted:</strong> Adapted from 17th century map sources in the public domain</li>
                <li><strong>No acknowledgment to those who ignored repeated requests for assistance:</strong> Prof. Lisa Brooks,</li>
                <li><strong>No thanks to those who were hostile towards the project or went out of their way to hinder the research efforts:</strong> Community contributors and maintainers</li>
            </ul>
            <p>
                We are grateful to the many Indigenous scholars, culture bearers, and archivists whose work informs this project.
            </p>
        </div>
    </div>
    <div id="marker-form-overlay" class="hidden">
        <div id="marker-form">
            <h3>Add Marker</h3>
            <label>Name:
                <input type="text" id="marker-name">
            </label>
            <label>Alternative Names:
                <input type="text" id="marker-alt-names">
            </label>
            <label>Subheader:
                <input type="text" id="marker-subheader">
            </label>
            <label>Description:
                <small>Supports Markdown (e.g., <code>**bold**</code>, <code>![alt](url)</code> for images) and footnotes (pair <code>[^1]</code> with <code>[^1]: Source details</code>).</small>
                <div class="markdown-image-tools">
                    <button type="button" class="markdown-image-button" data-target="marker-description">Insert image reference</button>
                    <input type="file" accept="image/*" class="markdown-image-input" data-target="marker-description" aria-label="Choose an image to insert into the description">
                </div>
                <textarea id="marker-description"></textarea>
            </label>
            <label>Icon:
                <select id="marker-icon"></select>
            </label>
            <button id="marker-save">Save</button>
            <button id="marker-cancel">Cancel</button>
            <button id="marker-convert" class="hidden">Convert to Text</button>
        </div>
    </div>
    <div id="polygon-form-overlay" class="hidden">
        <div id="polygon-form">
            <h3>Add Polygon</h3>
            <label>Name:
                <input type="text" id="polygon-name">
            </label>
            <label>Description:
                <small>Supports Markdown (e.g., <code>**bold**</code>, <code>![alt](url)</code> for images) and footnotes (pair <code>[^1]</code> with <code>[^1]: Source details</code>).</small>
                <div class="markdown-image-tools">
                    <button type="button" class="markdown-image-button" data-target="polygon-description">Insert image reference</button>
                    <input type="file" accept="image/*" class="markdown-image-input" data-target="polygon-description" aria-label="Choose an image to insert into the description">
                </div>
                <textarea id="polygon-description"></textarea>
            </label>
            <label>Color:
                <input type="color" id="polygon-color" value="#3388ff">
            </label>
            <button id="polygon-save">Save</button>
            <button id="polygon-cancel">Cancel</button>
        </div>
    </div>
    <div id="text-form-overlay" class="hidden">
        <div id="text-form">
            <h3>Add Text</h3>
            <label>Text:
                <input type="text" id="text-label-text">
            </label>
            <label>Alternative Names:
                <input type="text" id="text-label-alt-names">
            </label>
            <label>Subheader:
                <input type="text" id="text-label-subheader">
            </label>
            <label>Description:
                <small>Supports Markdown (e.g., <code>**bold**</code>, <code>![alt](url)</code> for images) and footnotes (pair <code>[^1]</code> with <code>[^1]: Source details</code>).</small>
                <div class="markdown-image-tools">
                    <button type="button" class="markdown-image-button" data-target="text-label-description">Insert image reference</button>
                    <input type="file" accept="image/*" class="markdown-image-input" data-target="text-label-description" aria-label="Choose an image to insert into the description">
                </div>
                <textarea id="text-label-description"></textarea>
            </label>
            <label>Size:
                <input type="number" id="text-label-size" value="14">
            </label>
            <label>Angle:
                <input type="number" id="text-label-angle" value="0">
            </label>
            <label>Letter Spacing:
                <input type="range" id="text-letter-spacing" min="-5" max="20" value="0">
            </label>
            <label>Curve Radius:
                <input type="number" id="text-curve-radius" value="0">
            </label>
            <button id="text-save">Save</button>
            <button id="text-cancel">Cancel</button>
            <button id="text-convert" class="hidden">Convert to Marker</button>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>
    <script src="js/map.js"></script>
</body>
</html>


